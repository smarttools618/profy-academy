<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>L'Arborescence : Dossiers et Fichiers</title>
    
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;800&family=Open+Sans:wght@400;600&display=swap" rel="stylesheet">
    <!-- Icons (FontAwesome) -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        /* --- 1. VARIABLES & RESET --- */
        :root {
            --primary: #3a86ff;       /* Main Blue */
            --secondary: #2c3e50;     /* Dark Text */
            --folder-col: #ffbe0b;    /* Folder Yellow */
            --bg: #f0f4f8;            /* Light Background */
            --radius: 12px;
            --shadow: 0 10px 25px rgba(0,0,0,0.1);
        }

        * { box-sizing: border-box; margin: 0; padding: 0; }

        body {
            font-family: 'Open Sans', sans-serif;
            background-color: var(--bg);
            color: var(--secondary);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 40px 20px;
        }

        .container {
            max-width: 1100px;
            width: 100%;
            background: white;
            padding: 40px;
            border-radius: var(--radius);
            box-shadow: var(--shadow);
        }

        header { text-align: center; margin-bottom: 40px; }
        header h1 { color: var(--primary); font-family: 'Poppins', sans-serif; margin-bottom: 10px; }

        /* --- 2. MINDMAP (TREE CSS) --- */
        .mindmap-wrapper {
            overflow-x: auto;
            text-align: center;
            padding-bottom: 20px;
            margin-bottom: 30px;
        }

        /* Tree Structure Logic */
        .tree ul {
            padding-top: 20px; position: relative; 
            display: flex; justify-content: center;
        }
        .tree li {
            float: left; text-align: center; list-style-type: none; 
            position: relative; padding: 20px 5px 0 5px;
        }
        
        /* Connectors */
        .tree li::before, .tree li::after {
            content: ''; position: absolute; top: 0; right: 50%;
            border-top: 2px solid #ccc; width: 50%; height: 20px;
        }
        .tree li::after { right: auto; left: 50%; border-left: 2px solid #ccc; }
        .tree li:only-child::after, .tree li:only-child::before { display: none; }
        .tree li:only-child { padding-top: 0; }
        .tree li:first-child::before, .tree li:last-child::after { border: 0 none; }
        .tree li:last-child::before { border-right: 2px solid #ccc; border-radius: 0 5px 0 0; }
        .tree li:first-child::after { border-radius: 5px 0 0 0; }
        .tree ul ul::before {
            content: ''; position: absolute; top: 0; left: 50%;
            border-left: 2px solid #ccc; width: 0; height: 20px;
        }

        /* Node Styling (The Folders) */
        .tree-node {
            border: 2px solid #e0e0e0;
            padding: 10px 20px;
            text-decoration: none;
            color: #555;
            font-family: 'Poppins', sans-serif;
            font-weight: 600;
            font-size: 0.9rem;
            display: inline-block;
            border-radius: 8px;
            transition: all 0.3s;
            background: white;
            cursor: pointer;
            position: relative;
            z-index: 10;
            min-width: 120px;
        }

        /* Icons */
        .tree-node i { margin-right: 8px; color: var(--folder-col); font-size: 1.2rem; }
        
        /* Hover & Active */
        .tree-node:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            border-color: var(--folder-col);
        }
        .tree-node.active {
            background-color: var(--folder-col);
            color: #fff;
            border-color: var(--folder-col);
            box-shadow: 0 5px 15px rgba(255, 190, 11, 0.4);
        }
        .tree-node.active i { color: white; }

        /* --- 3. FILE VIEWER --- */
        .viewer-box {
            border: 2px dashed #cbd5e1;
            background: #f8fafc;
            border-radius: 12px;
            padding: 30px;
            min-height: 220px;
        }
        
        .viewer-header {
            margin-bottom: 20px;
            font-size: 1.1rem;
            color: #333;
            font-weight: bold;
            border-bottom: 1px solid #e2e8f0;
            padding-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .files-grid {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            justify-content: center;
        }

        .file-card {
            background: white;
            width: 100px;
            padding: 15px 10px;
            border-radius: 8px;
            text-align: center;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
            transition: 0.2s;
            cursor: pointer;
            animation: popIn 0.4s ease;
            border: 1px solid transparent;
        }
        .file-card:hover { transform: scale(1.05); border-color: var(--primary); }
        .file-card i { font-size: 2.2rem; margin-bottom: 8px; display: block; }
        .file-card span { font-size: 0.8rem; line-height: 1.2; display: block; word-break: break-word; }

        /* File Colors */
        .f-word { color: #2b579a; } 
        .f-pdf { color: #e74c3c; } 
        .f-img { color: #2ecc71; } 
        .f-music { color: #e67e22; }

        @keyframes popIn { from { opacity:0; transform:scale(0.8); } to { opacity:1; transform:scale(1); } }
        .empty-msg { color: #94a3b8; font-style: italic; margin-top: 20px; }

    </style>
</head>
<body>

    <div class="container">
        <header>
            <h1>L'Arborescence</h1>
            <p>Clique sur les dossiers jaunes pour voir les fichiers qu'ils contiennent.</p>
        </header>

        <!-- MINDMAP (ROOT IS A FOLDER) -->
        <div class="mindmap-wrapper">
            <div class="tree">
                <ul>
                    <li>
                        <!-- ROOT NODE -->
                        <a class="tree-node active" onclick="openFolder('root', this)">
                            <i class="fa-solid fa-folder-open"></i> Mon Cartable
                        </a>
                        
                        <ul>
                            <!-- BRANCH 1: COURS -->
                            <li>
                                <a class="tree-node" onclick="openFolder('cours', this)">
                                    <i class="fa-solid fa-folder"></i> Cours
                                </a>
                                <ul>
                                    <li>
                                        <a class="tree-node" onclick="openFolder('maths', this)">
                                            <i class="fa-solid fa-folder"></i> Maths
                                        </a>
                                    </li>
                                    <li>
                                        <a class="tree-node" onclick="openFolder('histoire', this)">
                                            <i class="fa-solid fa-folder"></i> Histoire
                                        </a>
                                    </li>
                                </ul>
                            </li>

                            <!-- BRANCH 2: PERSO -->
                            <li>
                                <a class="tree-node" onclick="openFolder('perso', this)">
                                    <i class="fa-solid fa-folder"></i> Perso
                                </a>
                                <ul>
                                    <li>
                                        <a class="tree-node" onclick="openFolder('images', this)">
                                            <i class="fa-solid fa-folder"></i> Images
                                        </a>
                                    </li>
                                </ul>
                            </li>
                        </ul>
                    </li>
                </ul>
            </div>
        </div>

        <!-- FILE VIEWER -->
        <div class="viewer-box">
            <div class="viewer-header" id="folder-title">
                <i class="fa-regular fa-folder-open" style="color:var(--folder-col)"></i> Contenu de : Mon Cartable
            </div>
            <div class="files-grid" id="file-list">
                <!-- Files will appear here -->
            </div>
        </div>
    </div>

    <script>
        // --- DATA STRUCTURE ---
        const fileData = {
            'root': [], // Root folder is visually empty (contains subfolders only)
            'cours': [], 
            'maths': [
                {name: 'Exercice_1.pdf', icon: 'fa-file-pdf', type: 'f-pdf'},
                {name: 'LeÃ§on_Geo.docx', icon: 'fa-file-word', type: 'f-word'}
            ],
            'histoire': [
                {name: 'Louis_XIV.docx', icon: 'fa-file-word', type: 'f-word'},
                {name: 'Frise.jpg', icon: 'fa-file-image', type: 'f-img'}
            ],
            'perso': [
                {name: 'Liste_Cadeaux.txt', icon: 'fa-file-lines', type: 'f-word'}
            ],
            'images': [
                {name: 'Vacances.jpg', icon: 'fa-file-image', type: 'f-img'},
                {name: 'Mon_Chien.png', icon: 'fa-file-image', type: 'f-img'},
                {name: 'Dessin.png', icon: 'fa-file-image', type: 'f-img'}
            ]
        };

        // --- FUNCTION: OPEN FOLDER ---
        function openFolder(key, element) {
            // 1. Highlight Active Folder
            document.querySelectorAll('.tree-node').forEach(el => el.classList.remove('active'));
            element.classList.add('active');

            // 2. Update Title
            const folderName = element.innerText.trim();
            document.getElementById('folder-title').innerHTML = `
                <i class="fa-regular fa-folder-open" style="color:var(--folder-col)"></i> Contenu de : ${folderName}
            `;

            // 3. Display Files
            const container = document.getElementById('file-list');
            container.innerHTML = ''; // Clear

            const files = fileData[key];

            if (!files || files.length === 0) {
                container.innerHTML = '<p class="empty-msg">Ce dossier ne contient pas de fichiers (seulement des sous-dossiers).</p>';
                return;
            }

            files.forEach(file => {
                const div = document.createElement('div');
                div.className = 'file-card';
                div.innerHTML = `
                    <i class="fa-regular ${file.icon} ${file.type}"></i>
                    <span>${file.name}</span>
                `;
                div.onclick = () => alert("Tu as ouvert le fichier : " + file.name);
                container.appendChild(div);
            });
        }

        // Optional: Load root on start
        // openFolder('root', document.querySelector('.tree-node'));
    </script>

</body>
</html>